## 기본적인 커맨드라인

기본적인 유닉스 커맨드라인 사용법을 이해하는 것은 아주 중요합니다.
제일 처음 우리는 폴더 간의 이동과, 파일을 복사하고, 파일을 만드는 법 등을 배워보겠습니다.

커맨드라인을 이때까지 사용해오셨던 분들은 아마 이 부분이 좀 쉬우면서 지루할 수 있겠지만,
그렇지 않으신 분들이 더 많다고 생각들고 그러니 이제 그냥 다시 한 번 리프레시 한다는 개념으로
들어주셨으면 좋겠네요.

커맨드라인을 사용하지 않으신 분들은, 이번에 배우면서 외우려 하지 마시고 그냥 이해하면서,
뭐 참조할 사이트를 찾아서 계속 써보면서 익히시길 바랍니다.

### 홈 디렉토리(~)

유닉스 시스템에서는 모든 유저가 "홈" 디렉토리를 가지고 있습니다. 홈 디렉토리는
여러분들만의 것입니다. 홈 디렉토리는 운영체제에 따라서 위치가 다른데요. 보통 홈 디렉토리의 위치는
여러분이 커맨드 프로그램을 켰을 때의 나오는 기본 값 위치가 여러분의 홈 디렉토리 입니다.

보통 '물결(~)' 표시로 되어 있습니다.

아래의 명령어를 통해서 한 번 홈 디렉토리의 경로를 살펴보죠

```shell
$ pwd
/Users/sanghakkim
```

위의 명령어를 입력하면, 여러분들의 홈 디렉토리의 경로가 보일 것입니다.

### 현재 워킹 디렉토리(Present Working Directory - pwd)

커맨드 프로그램에서 여러분이 현재 어디 위치하여 있는 지를 아는 것은 중요합니다. pwd명령어는 여러분들이
만약 현재 디렉토리의 경로를 까먹었을 때 아주 유용합니다.

그래서, 여러분이 어디있는지를 알려면 pwd 명령어를 입력해주세요.

```shell
$ pwd
/Users/sanghakkim/Desktop/jasmine
```

위의 결과를 보시면, 여러분은 제가 지금 있는 폴더의 경로가 보이실 겁니다. 이 폴더는 제가 지금 깃 수업을
작성하고 있는 위치입니다. 

### 파일과 폴더들 나열하기(list - ls)

여러분이 현재에 있는 디렉토리의 위치나 다른 디렉토리에 있는 폴더와 파일을 확인할 수 있는 건 종종 아주 중요하죠. 이것을 하기 위해서는 `ls` 커맨드를 사용해주면 됩니다.

```shell
$ ls
Git-Jasmine  Git-Tutorial Palindrome   README.md    caesar
```

위의 결과를 보시면, 제가 현재 위치에 있는 파일과 디렉토리를 나열합니다.

#### 다른 디렉토리의 파일과 폴더 나열하기

기본적으로 ls 커맨드를 사용하면 여러분이 현재 위치에 있는 디렉토리의 파일과 디렉토리 등을 나열합니다. 그런데 만약 여러분이 현재 위치에 있는 디렉토리 말고, 다른 디렉토리의 파일과 디렉토리 등을 나열하고 싶다면 그 디렉토리의 경로를 ls 커맨드 뒤에 붙여주면 됩니다.

```shell
$ ls  ~/Downloads
Roboto
Roboto.zip
SAS 기초통계분석
SAS 기초통계분석 (1)
```

위의 명령어는 ~/Downloads 디렉토리에 있는 파일과 디렉토리를 보여줍니다.

#### 보이지 않는 파일들 나열하기(-a)

우리는 이때까지 "보이는" 파일과 디렉토리를 나열했습니다. 하지만, 유닉스 운영체제에는 "보이지 않는" 파일이 많습니다. 이들은 보통 "." 으로 시작합니다.

```shell
$ ls -a
. .config .nvm .yarnrc .gitconfig .ipython 
...
.npm .vscode Desktop Downloads
```

위의 결과물을 보시면 .으로 시작하는 많은 파일들이 보이실 겁니다.

#### 추가적인 ls 옵션들

ls -l(긴 결과 출력)
ls -lh(파일 사이즈도 보여줌)
ls -lt(마지막으로 수정된 시간대로 출력)
ls -lr(알파벳 거꾸로 순서대로 출력)

## 디렉토리 옮겨가기(Change Directory - cd)

아마 터미널을 사용하면서 여러분은 디렉토리를 옮겨다녀야 할 것입니다. 가장 처음 열었을 때 홈 디렉토리인데 보통 저희가 홈 디렉토리에 있지는 않잖아요? 디렉토리를 옮겨다니는 방법은 `cd` 라는 명령어를 사용하시면 됩니다.

`cd` 뒤에 여러분이 가고자 하는 디렉토리의 경로를 입력해주시면 됩니다.

```shell
$ cd ~/Desktop/Jasmine
~/Desktop/Jasmine
```

저는 Jasmine 디렉토리로 성공적으로 옮겨갔습니다. pwd 명령어를 사용해서 여러분이 원한 디렉토리로 왔는지 한 번 확인해보세요.

### 위로 옮겨가기(..)

여러분이 어떤 디렉토리에 있을 때, 바로 한 단계 전 디렉토리로 가는 법을 아는 것도 아주 유용합니다. 아마 아까 했듯이 전 디렉토리의 전체경로를 입력해주는 것도 좋지만 터미널에는 아주 쉽게 부모 디렉토리로 가는 특별한 경로가 있습니다.

```shell
$ cd ..
~/Desktop
```

보시다시피 저는 Jasmine의 부모 디렉토리인 Desktop으로 `..`을 이용하여 쉽게 이동했습니다.

### 홈 디렉토리로 가기

여러분이 홈 디렉토리로 옮겨가시고 싶으시다면, 아무 경로없이 `cd`를 실행해주시면 됩니다.

```
$ cd
/Users/sanghakkim
```

## 파일 만들기(touch)

파일을 만들때 우리는 보통 오른쪽 마우스를 클릭하여 새로운 파일을 만들고는 하죠. 하지만 터미널에서 아주 쉽게 할 수 있고 더욱 더 강력합니다. `touch` 명령어와 파일이름을 적어주시면 파일이 생성됩니다. 

```shell
$ touch test.txt
$ ls
test.txt
```

이렇게 test.txt라는 파일을 생성하였습니다. touch 명령어는 여러 가지의 파일을 한 꺼번에 만드는 기능도 지원합니다. 예를 들어, 우리가 개발을 할 때 필요한 html, css, 그리고 js 파일을 한 꺼번에 만들어볼게요.

```shell
$ touch index.html style.css script.js
$ ls
index.html   script.js    style.css
```

이렇게 터미널은 어떻게 보면 GUI보다 아주 강력합니다.

## 디렉토리 만들기(Make Directory - mkdir)

보통 우리는 디렉토리에 파일들을 저장하여 파일들을 보기좋게 분류하죠. 터미널에서 커맨드라인 명령어를 사용하여 우리는 디렉토리를 만들수도 있습니다. `mkdir` 커맨드를 여러분이 만들고 싶은 디렉토리 이름과 같이 입력해주면 됩니다.

```shell
$ mkdir foo
```

그리고 `ls -l` 명령어를 사용해서 좀 더 자세히 확인해보겠습니다

```shell
$ ls -l
drwxr-xr-x    2 sanghakkim  staff    64 Jul 20 23:17 foo
```

제가 금방 만든 디렉토리 `foo`의 정보를 확인하실 수 있습니다.

### 디렉토리 안의 디렉토리 만들기(-p)

만약에 한 번에 여러 개로 중첩된 디렉토리를 만들고 싶다면 `-p` 를 사용하시면 됩니다.

```shell
$ mkdir -p Desktop/test/a/b/c
```

한 개의 명령어로 아주 여러개로 중첩된 디렉토리를 만들었습니다.

### 명령어 결과 출력하기(-v)

`mkdir` 명령어를 사용하면 결과를 출력해주지 않기 때문에, 만들어졌는지 안 만들어졌는지 궁금할 때가 있습니다. 이런 경우에 `-v`를 사용하면, 여러분이 사용한 명령어의 결과를 출력해줍니다

```shell
$ mkdir -v a
mkdir: created directory 'b'
```

mkdir 명령어 외에도 여러 명령어에 `-v` 를 사용하여 유용한 정보를 얻을 수 있습니다.

## 파일 복사하기(Copy - cp)

파일이나 디렉토리를 `cp` 명령어를 통해서 복사할 수 있습니다.

### 한 개의 파일 복사하기

한 개의 파일을 복사하려면 두 가지의 다른 인수를 넘겨주어야 합니다. 첫번째 인수는 우리가 복사하고자 하는 파일(소스파일)입니다. 두번째 인수는, 타겟, 우리가 소스파일을 복사하고자 하는 위치입니다. 이 표적은 여러분이 원하는 파일이름이 될 수도 있고, 여러분이 소스파일을 복사하고자 하는 디렉토리의 위치가 될 수도 있습니다. 디렉토리의 경로를 인수로 넘기신다면, 소스파일의 이름이 그대로 사용될 것입니다.

```shell
$ echo "Hey this is a test" > a.txt
$ cp a.txt b.txt
$ cat b.txt
Hey this is a test
```

위의 명령어에서는 제가 "Hey this is a test" 라는 내용을 가지고 있는 a.txt를 만들었습니다. 그 이후 cp 명령어를 이용해 a.txt를 b.txt 라는 파일이름으로 복사했습니다. 그리고 확인해보면 b.txt의 내용이
a.txt의 내용과 똑같은 것을 확인해 보실 수 있으실 겁니다.

### 여러 개의 파일 복사하기

`cp` 명령어를 통해서, 여러분은 여러 개의 파일을 한 번에 복사하실 수도 있습니다. 하지만 여기서 중요한 건 마지막 인수는 '무조건' 디렉토리가 되어야 합니다. 

```shell
$ cp a.txt b.txt egg
```

위의 명령어에서 저는 egg라는 디렉토리에 a.txt와 b.txt 두 개의 파일을 한 번에 복사하여 넣어주었습니다. 여기서 기억하셔야 할 것은 원래의 파일 이름이 그대로 사용된다는 것입니다.

### 폴더 복사하기(-R)

기본적으로 `cp` 명령어는 파일을 복사합니다. 만약에 디렉토리를 복사하려고 하면 오류가 뜰 것입니다.

```shell
$ cp foo bar
cp: foo is a directory (not copied).
```

이러한 오류를 고치기 위해서는 우리는 `-R` 을 사용하여 디렉토리를 복사해야합니다. `-R`은 디렉토리 안에 있는 모든 컨텐츠들을 복사함으로써 새로운 디렉토리를 만듭니다.

```shell
$ cp -Rv foo bar
foo -> bar
foo/a.txt -> bar/a.txt
```

우리는 `-v` 를 사용함으로써, foo안에 있는 모든 파일이 bar라는 디렉토리 안에 복사됨을 알 수 있습니다.

## 파일 지우기(rm)

`rm` 명령어는 파일이나 폴더를 지우기 위해 사용됩니다. foo 디렉토리 안에 있는 a.txt를 한 번 지워보겠습니다. 

```shell
$ ls foo
a.txt
$ rm -v a.txt
a.txt
$ ls

```

성공적으로 a.txt가 지워졌음을 알 수 있습니다. 

## 폴더 지우기(rmdir) 

`rm` 명령어를 통해서 폴더를 지우려고 하시면 오류가 뜨는 것을 보실 수 있을 겁니다. 디렉토리를 지우려면 `rmdir` 이라는 명령어를 사용하시면 되는데요. 이 명령어는 비어있는 디렉토리만 제거합니다.

예를 들어, a.txt가 들어있는 foo 디렉토리를 지우려고 하면 오류가 뜰 겁니다.

```shell
$ rmdir foo
rmdir: foo: Directory not empty
```

이것이 어떻게 보면 안전한 것입니다. 실제로 여러분이 실수로 폴더안에 있는 모든 파일들을 날려버리지 않게 말이죠. 하지만 여러분이 실제로 파일을 신경쓰지 않고 모두 날려버리고 싶다면 `rm -rf`를 사용하시면 됩니다. 

```shell
$ rm -rf -v foo
foo/a.txt
foo
```

## 파일 옮기기(move - mv)

파일을 옮기는 방법은 우리가 금방 배웠던 것처럼 파일을 복사하는 법과 똑같습니다. `mv` 명령어를 통해서 우리는 파일을 옮길 수 있습니다. 사실 생각해보면, `mv` 명령어는 `cp` 명령어와 `rm` 명령어의 조합이라고 보시면 됩니다. 파일을 복사하여 어떤 위치에 붙여주고, 원래 위치의 파일을 지워주는 것이죠.

```shell
$ mv foo/a.txt bar/a.txt
$ ls bar
a.txt
```

## 인풋/아웃풋(|, >)

### 출력물 엮기(|)

우리는 어떤 한 명령어의 출력물을 다른 명령어의 인풋으로 넣어줌으로써 재밌는 명령어를 구성할 수 있습니다. 어떤 한 출력물을 다른 명령어의 인풋으로 넣어주려면 `|` 플래그를 써주시면 됩니다. 파이프 명령어라고 불리기도 합니다.

```shell
$ ls -a ~ | grep _
.DS_Store
.bash_history
.bash_profile
.bash_sessions
.python_history
.zsh_history
.zshrc.pre-oh-my-zsh-2020-03-03_17-26-16
```

위의 명령어는 처음으로 홈 디렉토리(~)에 있는 모든 숨겨진 파일과 폴더들을 `ls` 명령어를 통해 나타내고, 그 다음 [grep](https://www.gnu.org/software/grep/manual/grep.html) 명령어를 통해 '_' 를 포함하고 있는 모든 파일들을 출력합니다.

### 파일에 쓰기(>)

출력물을 다른 명령어에 엮음에 이어서 우리는 그 출력물을 파일에 쓸 수도 있습니다. `>` 명령어와 함께 말이죠. 저희가 아까 한 명령어와 같이, `_` 를 포함하고 있는 모든 파일을 underscores.txt 라는 텍스트 파일에 넣어보겠습니다.

```shell
$ cat underscores.txt
.DS_Store
.bash_history
.bash_profile
.bash_sessions
.python_history
.zsh_history
.zshrc.pre-oh-my-zsh-2020-03-03_17-26-16
```

[cat](http://conqueringthecommandline.com/book/extras#sec-extras-cat) 명령어를 이용해 우리는 underscores.txt에 _를 포함하고 있는 모든 파일이 입력된 것을 알 수 있습니다.


## 명령어를 프로처럼 사용해보자!

[맥 명령어 단축키](https://support.apple.com/guide/terminal/keyboard-shortcuts-trmlshtcts/mac)

프로그래머들은 보통 아주 게으르다는 얘기를 들어보신 적 있으신가요? 만약에 프로그래머들이 어떠한 일들을 반복해야 한다면, 그들은 그것을 자동화시키는 법을 알아낼 확률이 아주 많을 것입니다. 좋은 소식은 우리는 이미 그들이 만들어 놓은 단축키를 사용 할 수 있다는 것이죠. 명령어 사용법을 아주 게으르게 배워보시죠.

### 복사하기

첫번째로, 여러분이 터미널에서 복사와 붙여넣기를 하신다면, 아마 제대로 작동하지 않을 수 있습니다. 맥은 똑같은 방식으로 작동하겠지만 윈도우에서는 `Ctrl+Shift+C`와 `Ctrl+Shift+V`를 사용하여 복사와 붙여넣기를 사용하셔야 될 것입니다. 

### 탭 완성

두번째로, 어떻게 보면 가장 중요한 `Tab` 키 자동완성을 아시면 아주 좋습니다. tab키는 여러분이 하고자 하는 명령어를 유추해 자동완성을 시켜주는데요. 아주 멀리떨어진 폴더를 이동할 때 아주 아주 좋습니다. 예를 들어 `~/Desktop/jasmine/git/git-tutorial/command-line` 라는 폴더로 터미널에서 이동을 하자고 한다면, 아주 많은 텍스트를 입력을 해주어야 되고 여러분이 잘 기억하기도 쉽지 않죠. 그래서 tab키를 눌러주시면 자동으로 그 텍스트로 시작하는 모든 파일과 폴더를 보여줄 것입니다. 만약에 특정 문자로 시작하는 파일이나 폴더가 한 개 밖에 없다면 그것을 바로 자동완성시켜 줍니다. 그럼 tab 키를 통하여 한 번 위의 디렉토리로 한 번 이동해보겠습니다.

`cd D` 를 하시고 `Tab`, 그러면 터미널에서 D로 시작하는 모든 것을 보여줄 것입니다. 우리가 Desktop으로 가야하기 때문에 조금만 더 입력해주시고 또 `tab` 을 하면 `Desktop`을 자동완성시켜줍니다. 그 다음 `ja`를 치고 `tab`, `g`를 치고 `tab` 이런 식으로 반복하여 우리가 가고자 하는 디렉토리에 이동하여 주면 됩니다.

아마 이런식의 명령어가 되겠지요.

`cd De[tab]ja[tab]g[tab]gi[tab]co[tab]`

한 번 실행해보세요. 그리고 여기에 아주 익숙해지세요. 여러분들은 아주 좋아할 것입니다.

### 원하는 폴더 열기

세번째로, 여러분이 원하는 디렉토리의 모든 것을 열어주는 법도 있습니다. `.`을 이용해서요. 예를 들어, 위에서 들었던 예처럼 우리가 command-line 디렉토리를 직접가서 열려면 여러 번의 마우스를 사용해야겠지요. 하지만 `open .` 이용해, 현재 폴더를 열어줄 수 있습니다. 그리고 여러분들은 VScode가 설치되어 있으실텐데, [code .](https://flaviocopes.com/vscode-command-line/) 을 이용해서 현재 디렉토리의 모든 파일들을 Vscode에서 열어줄 수도 있습니다.

### 이전 명령어 보는 법

화살키를 이용하면 아주 쉽게 여러분이 쓰셨던 명령어들을 보실 수 있습니다.

### 추가적인 기능들

- `ctrl + A`: 텍스트 첫 부분으로 옮겨가기
- `ctrl + E`: 텍스트 끝 부분으로 옮겨가기
- `ctrl + U`: 텍스트 시작점까지 지우기
- `ctrl + K`: 텍스트 끝지점까지 지우기
- `ctrl + L`: 커맨드 화면 모든 출력물 지우기
